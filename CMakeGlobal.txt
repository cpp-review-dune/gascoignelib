#############################################

#
# skip the following variables
#

MARK_AS_ADVANCED(CMAKE_BUILD_TYPE)
MARK_AS_ADVANCED(CMAKE_INSTALL_PREFIX)
MARK_AS_ADVANCED(CMAKE_BACKWARDS_COMPATIBILITY)
MARK_AS_ADVANCED(EXECUTABLE_OUTPUT_PATH)
MARK_AS_ADVANCED(LIBRARY_OUTPUT_PATH)

#############################################

#
#  caching the variables from the .gascoignerc file
#


##
## das folgende hab ich auskommentiert, weil es zum uebersschreiben der variablen 
## aus dem .gascoignrc fuehrt.
## dafuer muss man die etwas kompliziertere definition in .gascoignerc in kauf nehmen.
##
#SET(GASCOIGNE_STD                  ${GASCOIGNE_STD}                  CACHE PATH   "GascoigneStd input directory")
#SET(GASCOIGNE_EXECUTABLE_OUTPUT_PREFIX        ${GASCOIGNE_EXECUTABLE_OUTPUT_PREFIX}        CACHE PATH   "Output path prefix, prepended onto output directories.")
#SET(GASCOIGNE_LIBRARY_OUTPUT_PREFIX        ${GASCOIGNE_LIBRARY_OUTPUT_PREFIX}        CACHE PATH   "Output path prefix, prepended onto output directories.")

#SET(GASCOIGNE_CXX_FLAGS            ${GASCOIGNE_CXX_FLAGS}            CACHE STRING "Flags used by the compiler during all build types.")
#SET(GASCOIGNE_COMPILER_DEFINITIONS ${GASCOIGNE_COMPILER_DEFINITIONS} CACHE STRING "Add -D define flags to command line for environments.")
##
##
##


#############################################

#
#  set up user-specific paths
#

SET(ARCH "")
#
IF(USE_ARCH)
  EXEC_PROGRAM(arch OUTPUT_VARIABLE ARCH)
ENDIF(USE_ARCH)

SET(LIBRARY_OUTPUT_PATH    ${GASCOIGNE_LIBRARY_OUTPUT_PATH}/${ARCH} CACHE PATH "Single output directory for building all libraries." FORCE)
SET(EXECUTABLE_OUTPUT_PATH ${GASCOIGNE_EXECUTABLE_OUTPUT_PATH}/${ARCH} CACHE PATH "Single output directory for building all executables." FORCE)



#############################################

#
#  user-specific compile options
#

SET(CMAKE_CXX_FLAGS ${GASCOIGNE_CXX_FLAGS})
ADD_DEFINITIONS(${GASCOIGNE_COMPILER_DEFINITIONS})

#############################################

#
#  determining the neccesary additional libraries
#

IF(UMFPACK_WITH_AMD)
  SET(GASCOIGNE_LIBS GascoigneStd metis umfpack amd)
ELSE(UMFPACK_WITH_AMD)
  SET(GASCOIGNE_LIBS GascoigneStd metis umfpack)
ENDIF(UMFPACK_WITH_AMD)

LINK_DIRECTORIES(${LIBRARY_OUTPUT_PATH})

###############################################

#
#  setting the standard include directories
#

INCLUDE_DIRECTORIES(
  ${GASCOIGNE_STD}/src/Common 
  ${GASCOIGNE_STD}/src/Interface
  ${GASCOIGNE_STD}/src/Mesh
  ${GASCOIGNE_STD}/src/MeshInterpretor
  ${GASCOIGNE_STD}/src/Problems
  ${GASCOIGNE_STD}/src/LinAlg
  ${GASCOIGNE_STD}/src/Solver
)
